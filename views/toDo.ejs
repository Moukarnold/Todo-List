<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>todo</title>
</head>

<body>
    <h1> Welcome to your Task planner</h1>
   
     <h2> choose the appropriated date</h2>

    <div> 
      <form method="POST" action="/">
        <div>
          <label for="theDate">Date :</label>
          <input type="date" id="theDate" name="date">
        </div>
        
        <div>
          
          <label for="theTime">Heure :</label>
          <input type="time" id="theTime" name="time">
        </div>
      
        <div>
          <label for="theTask">Write a task:</label>
          <input type="text" id="theTask" name="task" placeholder="Write a task">
        </div>
        <input type="submit" value="Submit">

    </form>
  </div>
  <% if (tasks && tasks.length > 0) { %>
    <% const groupedTasks = {}; %>
    <% tasks.forEach(task => { %>
        <% if (!groupedTasks[task.date]) { %>
            <% groupedTasks[task.date] = []; %>
        <% } %>
        <% groupedTasks[task.date].push(task); %>
    <% }); %>
    <% for (const date in groupedTasks) { %>
        <div><%= date %></div>
        <div>
            <ul>
                <% groupedTasks[date].forEach(task => { %>
                    <li><%= task.task %> at <%= task.time %></li>
                <% }); %>
            </ul>
        </div>
    <% } %>
<% } %>
  
  
   </div>
    <button> add a new task</button>
 

</body>
</html>